<p style="color: green"><%= notice %></p>

<h1>Users</h1>
<%= form_with url: search_users_path, method: :get, 
  data: {controller: "searchnnot", searchn_target: 'form', turbo_frame:'users' },
  class:"container" do |f| %>
    <div class="field has-addons">
      <div class="control has-icons-left is-expanded">
        <%= f.text_field :search_field,
          class: 'input',
          autocomplete: 'off', autofocus: true,
          placeholder: 'search by section name (no less then 3 chars)',
          data: { action: 'input->searchn#search'},
          value: params[:search_field] %>
        <span class="icon is-small is-left">
          <i class="fas fa-search has-text-grey-light"></i>
        </span>
      </div>
    </div>
<% end %>



<div id="users">
<%= turbo_frame_tag "users" do %>
  <% @users.each do |user| %>
    <%= render user %>
    <p>
      <%= link_to "Show this user", user %>
    </p>
  <% end %>
<% end %>
</div>

<%= link_to "New user", new_user_path %>
